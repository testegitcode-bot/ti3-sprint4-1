<p-toast />

<form
  #form="ngForm"
  class="flex flex-col gap-4 grow-0 min-w-4/6 max-w-[1000px]"
  (ngSubmit)="enviarFormulario(form)"
>
  <div class="flex gap-4 w-full">
    <fieldset class="border-2 p-4 w-full border-primary-300 rounded-xl flex">
      <legend class="text-primary font-semibold px-2">Informações sobre o item</legend>
      <div class="flex flex-col gap-4 flex-1">
        <div class="flex gap-4">
          <p-iftalabel class="flex flex-1">
            <input
              type="text"
              name="aparelho"
              id="aparelho"
              pInputText
              fluid
              [ngModel]="itemEdicao?.aparelho"
              required
              class="w-full"
              placeholder="..."
            />
            <label for="aparelho">Aparelho</label>
          </p-iftalabel>
        </div>
        <div class="flex">
          <p-iftalabel class="flex flex-1">
            <input
              fluid
              placeholder="..."
              type="text"
              name="modelo"
              id="modelo"
              pInputText
              [ngModel]="itemEdicao?.modelo"
              required
            />
            <label for="modelo">Modelo</label>
          </p-iftalabel>
        </div>
        <div class="flex flex-1 gap-4">
          <p-iftalabel class="w-full">
            <input
              fluid
              placeholder="..."
              type="text"
              name="numeroSerie"
              id="numeroSerie"
              pInputText
              [ngModel]="itemEdicao?.numeroSerie"
              required
            />
            <label for="numeroSerie">Número de Série</label>
          </p-iftalabel>
          <p-iftalabel class="w-full">
            <input
              fluid
              placeholder="..."
              type="text"
              name="cor"
              id="cor"
              pInputText
              [ngModel]="itemEdicao?.cor"
            />
            <label for="cor">Cor</label>
          </p-iftalabel>
          @if (itemEdicao) {
            <p-iftalabel>
              <p-select
                [options]="opcoesStatus"
                [(ngModel)]="statusSelecionado"
                optionLabel="nome"
                optionValue="id"
                name="status"
                required
              />
              <label for="status">Status</label>
            </p-iftalabel>
          }
        </div>
      </div>
    </fieldset>
  </div>
  <fieldset class="border-2 py-2 px-4 border-primary-300 rounded-xl flex grow-0">
    <legend class="text-primary font-semibold px-2">Observações</legend>
    <p-iftalabel class="flex flex-1">
      <textarea
        rows="6"
        name="observacoes"
        [ngModel]="itemEdicao?.observacoes"
        style="resize: none"
        pTextarea
        fluid
      ></textarea>
      <label for="observacoes">Digite aqui...</label>
    </p-iftalabel>
  </fieldset>
  <div class="w-full flex justify-end">
    <p-button [label]="itemEdicao ? 'Salvar' : 'Adicionar'" type="submit"></p-button>
  </div>
</form>
